<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>MCDI</title>
  <script src="jatos.js"></script>
  <script src="jspsych-6.1/jspsych.js" ></script>
  <script src="jspsych-6.1/plugins/jspsych-survey-multi-select.js" ></script>
  <script src="jspsych-6.1/plugins/jspsych-survey-multi-choice.js" ></script>
  <script src="jspsych-6.1/plugins/jspsych-survey-likert.js" ></script>
  <script src="jspsych-6.1/plugins/jspsych-survey-text.js" ></script>
  <script src="shared_assets/js/multi-choice.js" ></script>
  <script src="shared_assets/js/multi-select.js" ></script>
  <script src="shared_assets/js/survey-text-custom.js" ></script>
  <script src="shared_assets/js/instructions.js" ></script>
  <script src="shared_assets/js/validators.js" ></script>
  <script src="jspsych-6.1/plugins/jspsych-html-keyboard-response.js" ></script>
  <link rel="stylesheet" href="jspsych-6.1/css/jspsych.css"></link>
</head>

<body>
</body>
  <script>

var header = "<img id=\"logo\" src=\"shared_assets/img/langdev-logo.jpg\"</img><h1>Language Learning & Development Lab MCDI</h1>"; //to be prepended to preludes

/*
DONE > CLARISSA'S NOTE -- add a little welcome message @ the begninning, and a page for them to record their information that would correspond to their parent questionnaire!

LINGERING QUESTIONS AND STUFF TO RESEARCH/WORK ON....

1. Format of multi-choice & survey-text-custom plugins

Each page presents a specified number of prompts (e.g. questions)'
Ankit's multi-choice & survey-text-custom plugins don't assign the names of each prompt (e.g. any prompt IDs) along with their answer in the output.
The plugins only outputs the answers for each prompt in separate columns (OK OR NOT?)
Therefore if one page presents 4 questions, the output for that particular question will include:
columns Q#; each prompt gets its own column (e.g. 4 prompts = Q1-Q4
-- only the ANSWER to the prompt appears in output --
-- Q1 = answer1, Q2 = answer2, Q3 = answer3, Q4 = answer4 --


Possible solutions...?
i) Combine all of the same kind of questions onto one page, onto one page and analyze data by Q1-Q# like in musiclang...?
e.g. all of the "pair" questions shown at the very end onto the same page;

or

ii) Try to figure out how to modify the plug-in to include names of the prompt alongside data


2. Questions that require multi-selection or Likert scale aren't formatted to produce nice output like the multi-choice and survey-text Qs
(Ankit only has code for multiple choice Q's & survey questions)

Possible solutions...?
i) Try to figure out how to modify Ankit's plugins for multi-choice to work for multi-select and likert questions?

ii) For questions requiring likert scale, convert them into multi-choice Q's format (e.g. pair type of questions)
multi-select questions still in weird format

*/



// subject ID section
var subjectID = {
    type: 'survey-text-custom',
    preamble: header + "<h2>MCDI</h2>",
    json_label: 'SubjectID',
    questions: [
        {prompt: "Please enter your subject ID you received in the email."}
       ],
    on_load: function () {
        validate_subject();
        form = document.getElementById("jspsych-content");
        toggle_listeners(form, true, validate_subject);
    },
    on_finish: function () {
        toggle_listeners(form, false, validate_subject);
    }
};

/* welcome message */
    var welcome = {
    type: 'instructions',
    pages: [
        header + 'Hello! Welcome to the LangDev Lab MCDI. Click <i>next</i> to begin.'
    ],
    show_clickable_nav: true,
    button_label_next: 'Next',
    button_label_previous: 'Back',
    allow_keys: false
};

/*CLARISSA'S NOTE: try and make it so that all the boxes are automatically checked, so the parents would only have to UN-CHECK a word, if their child doesn't use it. It's just more practical that way. */
/*... or, alternatively, maybe we could ask parents to check the boxes of the words their children DON'T use ? */


    var block1 = {
        type: 'survey-multi-select',
        questions: [
          {
            prompt: "<p>Please select which of the following words you have heard your child use.</p> <p>If your child uses a different pronunciation" +
                " of a word to refer to something (e.g. 'sketti' instead of 'spaghetti'), select that word anyway. </p>" +
                "<p><strong>Sound Effects and Animal Sounds</strong></p>",
            options: ["baa baa", "choo choo", "cockadoodledoo", "grrr", "meow", "moo", "ouch",
            "Quack quack", "uh oh", "vroom", "woof woof", "yum yum"],
            horizontal: true,
            required: false,
            name: 'Sound Effects and Animal Sounds',

          },
          {
            prompt: "<p><strong>Animals (real or toy)</strong></p>",
            options: ["alligator", "animal", "ant", "bear", "bee", "bird", "bug", "bunny", "butterfly",
            "cat", "chicken", "cow", "deer", "dog", "donkey", "duck", "elephant", "fish", "frog", "giraffe",
            "goose", "hen", "horse", "kitty", "lamb", "lion", "monkey", "moose", "mouse", "owl", "penguin",
            "pig", "pony", "puppy", "rooster", "sheep", "squirrel", "teddybear", "tiger", "turkey", "turtle",
            "wolf", "zebra"],
            horizontal: true,
            required: false,
            name: 'Animals',

          }
        ],
        randomize_question_order: false
    };

    var block2 = {
        type: 'survey-multi-select',
        questions: [
          {
            prompt: "<p><strong>Vehicles (real or toy)</strong></p>",
            options: ["airplane", "bicycle", "boat", "bus", "car", "firetruck", "helicopter", "motorcycle",
            "sled", "stroller", "tractor", "train", "tricycle", "truck"],
            horizontal: true,
            required: false,
            name: 'Vehicles',

          },
          {
            prompt: "<p><strong>Toys</strong></p>",
            options: ["ball", "balloon", "bat", "block", "book", "bubbles", "chalk", "crayon", "doll", "game",
            "glue", "pen", "pencil", "play dough", "present", "puzzle", "story", "toy"],
            horizontal: true,
            required: false,
            name: 'Toys',

          }
        ],
        randomize_question_order: false
    };

    var block3 = {
        type: 'survey-multi-select',
        questions: [
          {
            prompt: "<p><strong>Food</strong></p>",
            options: ["apple", "applesauce", "banana", "beans", "bread", "butter", "cake", "candy", "carrots",
            "cereal", "cheerios", "cheese", "chicken", "chocolate", "coffee", "coke", "cookie", "corn", "cracker",
            "donut", "drink", "egg", "fish", "food", "french fries", "grapes", "green beans", "gum", "hamburger", "ice",
            "ice cream", "jello", "jelly", "juice", "lollipop", "meat", "melon", "milk", "muffin", "noodles", "nuts", "orange",
            "pancake", "peanut butter", "peas", "pickle", "pizza", "popcorn", "popsicle", "potato", "potato chip",
            "pretzel", "pudding", "pumpkin", "raisin", "salt", "sandwich", "sauce", "soda/pop", "soup", "spaghetti", "strawberry",
            "toast", "tuna", "vanilla", "vitamines", "water", "yogurt"],
            horizontal: true,
            required: false,
            name: 'Food',

          },
          {
            prompt: "<p><strong>Clothing</strong></p>",
            options: ["beads", "belt", "bib", "boots", "button", "coat", "diaper", "dress", "gloves", "hat", "jacket",
            "jeans", "mittens", "necklace", "pajamas", "pants", "scarf", "shirt", "shoe", "shorts", "slipper", "sneaker",
            "snowsuit", "sock", "sweater", "tights", "underpants", "zipper"],
            horizontal: true,
            required: false,
            name: 'Clothing',

          }
        ],
        randomize_question_order: false
    };

    var block4 = {
        type: 'survey-multi-select',
        questions: [
          {
            prompt: "<p><strong>Body Parts</strong></p>",
            options: ["ankle", "arm", "belly button", "buttocks/bottom (or word used in your family)", "cheek", "chin", "ear",
            "eye", "face", "feet", "finger", "hair", "hand", "head", "knee", "leg", "lips", "mouth", "nose", "owie/boo boo",
            "penis (or word used in your family)", "shoulder", "tooth", "toe", "tongue", "tummy", "vagina (or word used in your family)"],
            horizontal: true,
            required: false,
            name: 'Body Parts',

          },
          {
            prompt: "<p><strong>Small Household Items</strong></p>",
            options: ["basket", "blanket", "bottle", "box", "bowl", "broom", "brush", "bucket", "camera", "can", "clock", "comb", "cup",
            "dish", "fork", "garbage", "glass", "glasses", "hammer", "jar", "keys", "knife", "lamp", "light", "medicine", "money", "mop",
            "nail", "napkin", "paper", "penny", "picture", "pillow", "plant", "plate", "purse", "radio", "scissors", "soap", "spoon", "tape",
            "telephone", "tissue/kleenex", "toothbrush", "towel", "trash", "tray", "vaccum", "walker", "watch"],
            horizontal: true,
            required: false,
            name: 'Small Household Items',

          }
        ],
        randomize_question_order: false
    };

    var block5 = {
        type: 'survey-multi-select',
        questions: [
          {
            prompt: "<p><strong>Furniture and Rooms</strong></p>",
            options: ["basement", "bathroom", "bathtub", "bed", "bedroom", "bench", "chair", "closet", "couch", "crib", "door", "drawer", "dryer",
            "garage", "high chair", "kitchen", "living room", "oven", "play pen", "porch", "potty", "refrigerator", "rocking chair", "room", "shower", "sofa",
            "stairs", "stove", "table", "TV", "washing machine", "window"],
            horizontal: true,
            required: false,
            name: 'Furniture and Rooms',

          },
          {
            prompt: "<p><strong>Outside Things</strong></p>",
            options: ["backyard", "cloud", "flag", "flower", "garden", "grass", "hose", "ladder", "lawn mower", "moon", "pool", "rain", "rock", "roof", "sandbox",
            "shovel", "sidewalk", "sky", "slide", "snow", "snowman", "sprinkler", "star", "stick", "stone", "street", "sun", "swing", "tree", "water", "wind"],
            horizontal: true,
            required: false,
            name: 'Outside Things',

          }
        ],
        randomize_question_order: false
    };

    var block6 = {
        type: 'survey-multi-select',
        questions: [
          {
            prompt: "<p><strong>Places to Go</strong></p>",
            options: ["beach", "camping", "church (or word used in your family)", "circus", "country", "downtown", "farm", "gas station", "home", "house", "movie", "outside",
            "park", "party", "picnic", "playground", "school", "store", "woods", "work", "yard", "zoo"],
            horizontal: true,
            required: false,
            name: 'Places to Go',

          },
          {
            prompt: "<p><strong>People</strong></p>",
            options: ["aunt", "baby", "babysitter", "babysitter's name", "boy", "brother", "child", "clown", "cowboy", "daddy (or word used in your family)", "doctor", "fireman",
            "friend", "girl", "grandma (or word used in your family)", "grandpa (or word used in your family)", "lady", "mailman", "man", "mommy (or word used in your family)", "nurse",
            "child's own name", "people", "person", "pet's name", "police", "sister", "teacher", "uncle"],
            horizontal: true,
            required: false,
            name: 'People',

          }
        ],
        randomize_question_order: false
    };

    var block7 = {
        type: 'survey-multi-select',
        questions: [
          {
            prompt: "<p><strong>Games and Routines</strong></p>",
            options: ["bath", "breakfast", "bye", "call (on phone)", "dinner", "give me five!", "gonna get you!", "go potty", "hi", "hello", "lunch", "nap", "night night", "no", "patty cake",
            "peekaboo", "please", "shh/shuhs/hush", "shopping", "snack", "so big!", "thank you", "this little piggy", "turn around", "yes"],
            horizontal: true,
            required: false,
            name: 'Games and Routines',

          },
          {
            prompt: "<p><strong>Action Words</strong></p>",
            options: ["bite", "blow", "break", "bring", "build", "bump", "buy", "carry", "catch", "chase", "clap", "clean", "climb", "close", "cook", "cover", "cry", "cut", "dance",
            "draw", "drink", "drive", "drop", "dry", "dump", "eat", "fall", "feed", "find", "finish", "fit", "fix", "get", "give", "go", "hate", "have", "hear", "help", "hide", "hit", "hold", "hug",
            "hurry", "jump", "kick", "kiss", "knock", "lick", "like", "listen", "look", "love", "make", "open", "paint", "pick", "play", "pour", "pretend", "pull", "push", "put", "read", "ride", "rip", "run",
            "say", "see", "shake", "share", "show", "sing", "sit", "skate", "slep", "slide", "smile", "spill", "splash", "stand", "stay", "stop", "sweep", "swim", "swing", "take", "talk", "taste", "tear", "think",
            "throw", "tickle", "touch", "wait", "wake", "walk", "wash", "watch", "wipe", "wish", "work", "write"],
            horizontal: true,
            required: false,
            name: 'Action Words',

          }
        ],
        randomize_question_order: false
    };

    var block8 = {
        type: 'survey-multi-select',
        questions: [
          {
            prompt: "<p><strong>Descriptive Words</strong></p>",
            options: ["allgone", "asleep", "awake", "bad", "better", "big", "black", "blue", "broken", "brown", "carerful", "clean", "cold", "cute", "dark", "dirty", "dry", "empty", "fast", "fine", "first", "full", "gentle", "good",
            "green", "happy", "hard", "heavy", "high", "hot", "hungry", "hurt", "last", "little", "long", "loud", "mad", "naughty", "new", "nice", "noisy", "old", "orange", "poor", "pretty", "quiet", "red","sad", "scared", "sick", "sleepy", "slow",
            "soft", "sticky", "stuck", "thirsty", "tiny", "tired", "wet", "white", "windy", "yellow", "yucky"],
            horizontal: true,
            required: false,
            name: 'Descriptive Words',

          },
          {
            prompt: "<p><strong>Words About Time</strong></p>",
            options: ["after", "before", "day", "later", "morning", "night", "now", "time", "today", "tomorrow", "tonight", "yesterday"],
            horizontal: true,
            required: false,
            name: 'Words About Time',

          },
          {
            prompt: "<p><strong>Pronouns</strong></p>",
            options: ["he", "her", "hers", "him", "his", "I", "it", "me", "mine", "my", "myself", "our", "she", "that", "their", "them", "these", "they", "this", "those", "us", "we", "you", "your","yourself"],
            horizontal: true,
            required: false,
            name: 'Pronouns',

          }
        ],
        randomize_question_order: false
    };

    var block9 = {
        type: 'survey-multi-select',
        questions: [
          {
            prompt: "<p><strong>Question Words</strong></p>",
            options: ["how", "what", "when", "where", "which", "who", "why"],
            horizontal: true,
            required: false,
            name: 'Question Words',

          },
          {
            prompt: "<p><strong>Prepositions and Locations</strong></p>",
            options: ["about", "above", "around", "at", "away", "back", "behind", "beside", "by", "down", "for", "here", "inside/in", "into", "next to", "of", "off", "on", "on top of", "out", "over", "there", "to", "under", "up", "with"],
            horizontal: true,
            required: false,
            name: 'Prepositions and Locations',

          },
          {
            prompt: "<p><strong>Quantifiers and Articles</strong></p>",
            options: ["a", "all", "a lot", "an", "another", "any", "each", "every", "more", "much", "not", "none", "other", "same", "some", "the", "too"],
            horizontal: true,
            required: false,
            name: 'Quantifiers and Articles',

          }
        ],
        randomize_question_order: false
    };


    var block10 = {
        type: 'survey-multi-select',
        questions: [
          {
            prompt: "<p><strong>Helping Verbs</strong></p>",
            options: ["am", "are", "be", "can", "could", "did/did ya", "do", "does", "don't", "donna/going to", "gotta/got to", "hafta/have to", "is", "lemme/ let me", "need/need to", "try/try to", "wanna/want to", "was", "were", "will", "would"],
            horizontal: true,
            required: false,
            name: 'Helping Verbs',

          },
          {
            prompt: "<p><strong>Connection Words</strong></p>",
            options: ["and", "because", "but", "if", "so", "then"],
            horizontal: true,
            required: false,
            name: 'Connecting Words',


          }
        ],
        randomize_question_order: false
    };

    var scale = [
      "Not Yet", "Sometimes", "Often"
    ];

/* BLOCKS 11 & BLOCK 12
convert likert-scale questions into multi-choice ???


    var block11 = {
    type: 'multi-choice',
    questions: [
    {prompt: "Does your child ever talk about past events or people who are not present? For example, a child who saw a parade last week might later say 'parade', 'clown' or 'band'.",
    	name: 'Past Events',
    	required: true,
    	options: ["Not Yet", "Sometimes", "Often"]},
        {prompt: "Does your child ever talk about something that's going to happen in the future, for example, saying 'choo choo' or 'airplane' before you leave the house for a trip, or saying 'swing' when you are going to the park?",
        name: 'Future Events',
        required: true,
    	options: ["Not Yet", "Sometimes", "Often"]},
        {prompt: "Does your child talk about objects that are not present such as asking about a missing or absent toy, referring to a pet out of view or asking about someone not present?",
        name: 'Not Present',
        required: true,
    	options: ["Not Yet", "Sometimes", "Often"]},
        {prompt: "Does your child understand if you ask for something that is not in the room, for example, by going to the bedroom to get a teddy bear when you say 'Where's the bear?'",
        name: 'Not in Room',
        required: true,
    	options: ["Not Yet", "Sometimes", "Often"]},
        {prompt: "Does your child ever pick up or point to an object and name an absent person to whom the object belongs? For example, a child might point to mommy's shoe and say 'Mommy'.",
        name: 'Absent Person',
        required: true,
    	options: ["Not Yet", "Sometimes", "Often"]}
      ],

      required: true,
          horizontal: true,
          randomize_question_order: false
          };

    var block12 = {
     type: 'multi-choice',
     questions: [
        {prompt: "To talk about more than one thing, we add an 's' to many words. Examples include cars (for more than one car), shoes, dogs, and keys. Has your child begun to do this?",
        name: 'Plural',
        required: true,
    	options: ["Not Yet", "Sometimes", "Often"]},
        {prompt: "To talk about ownership, we add an 's', for example, Daddy's key",
        name: 'Possessive',
        required: true,
    	options: ["Not Yet", "Sometimes", "Often"]},
        {prompt: "To talk about activities, we sometimes add 'ing' to verbs. Examples include looking, running, and crying. Has your child begun to do this?",
        name: 'Verb Endings',
        required: true,
    	options: ["Not Yet", "Sometimes", "Often"]},
        {prompt: "To talk about things that happened in the past, we often add 'ed' to the verb. Examples include kissed, opened , and pushed. Has your child begun to do this?",
        name: 'Past Tense',
        required: true,
    	options: ["Not Yet", "Sometimes", "Often"]}
      ],
      required: true,
          horizontal: true,
          randomize_question_order: false
          };
*/
    var block11 = {
      type: 'survey-likert',
      questions: [
        {prompt: "Does your child ever talk about past events or people who are not present? For example, a child who saw a parade last week might later say 'parade', 'clown' or 'band'.", name: 'Past Events', labels: scale, required: true},
        {prompt: "Does your child ever talk about something that's going to happen in the future, for example, saying 'choo choo' or 'airplane' before you leave the house for a trip, or saying 'swing' when you are going to the park?", name: 'Future Events', labels: scale, required: true},
        {prompt: "Does your child talk about objects that are not present such as asking about a missing or absent toy, referring to a pet out of view or asking about someone not present?", name: 'Not Present', labels: scale, required: true},
        {prompt: "Does your child understand if you ask for something that is not in the room, for example, by going to the bedroom to get a teddy bear when you say 'Where's the bear?'", name: 'Not in Room', labels: scale, required: true},
        {prompt: "Does your child ever pick up or point to an object and name an absent person to whom the object belongs? For example, a child might point to mommy's shoe and say 'Mommy'.", name: 'Absent Person', labels: scale, required: true}
      ],
      scale_width: 500,
      randomize_question_order: false
    };

    var block12 = {
      type: 'survey-likert',
      questions: [
        {prompt: "To talk about more than one thing, we add an 's' to many words. Examples include cars (for more than one car), shoes, dogs, and keys. Has your child begun to do this?", name: 'Plural', labels: scale, required: true},
        {prompt: "To talk about ownership, we add an 's', for example, Daddy's key", name: 'Possessive', labels: scale, required: true},
        {prompt: "To talk about activities, we sometimes add 'ing' to verbs. Examples include looking, running, and crying. Has your child begun to do this?", name: 'Verb Endings', labels: scale, required: true},
        {prompt: "To talk about things that happened in the past, we often add 'ed' to the verb. Examples include kissed, opened , and pushed. Has your child begun to do this?", name: 'Past Tense', labels: scale, required: true}
      ],
      scale_width: 500,
      randomize_question_order: false
    };



    var block13 = {
        type: 'survey-multi-select',
        questions: [
          {
            prompt: "<p>Following are some other words children learn. Please select which of the following words that you have heard your child use.</p>" +
                "<p><strong>Nouns</strong></p>",
            options: ["children", "men", "teeth", "feet", "mice"],
            horizontal: true,
            required: false,
            name: 'Nouns',

          },
          {
            prompt: "<p><strong>Verbs</strong></p>",
            options: ["ate", "fell", "made", "blew", "flew", "ran", "bought", "got", "sat", "broke", "had", "saw", "came", "heard", "took", "drank", "held", "went", "drove", "lost"],
            horizontal: true,
            required: false,
            name: 'Verbs',

          }
        ],
        randomize_question_order: false
    };

    var block14 = {
        type: 'survey-multi-select',
        questions: [
          {
            prompt: "<p>Young children often place the wrong endings on words. For example, a child might say 'Auntie good home.' Mistakes like this are often a sign of progress in language." +
            " Please select which of the following mistakes that you have heard your child say recently.</p>" +
                "<p><strong>Word Endings</strong></p>",
            options: ["blockses", "foots", "mouses", "toeses", "children", "mans", "shoeses", "tooths", "childs", "mens", "sockses", "feets", "mices", "teeths"],
            horizontal: true,
            required: false,
            name: 'Nouns',

          },
          {
            prompt: "<p><strong>Verbs</strong></p>",
            options: ["ated", "bringed", "broked", "doed", "blewed", "buyed", "camed", "dranked", "blowed", "breaked", "comed", "drinked", "eated", "gotted", "losted", "satted",
            "falled", "haved", "maked", "sitted", "flied", "heared", "ranned", "taked", "getted", "holded", "runned", "wented", "goed", "losed", "seed"],
            horizontal: true,
            required: false,
            name: 'Verbs',

          }
        ],
        randomize_question_order: false
    };

    var block15 = {
      type: 'multi-choice',
      questions: [
          {
            prompt: "Has your child begun to combine words yet, such as 'nother cracker' or 'doggie bite'?",
            options: ["Not Yet", "Sometimes", "Often"],
            name: "Combine",
            required: true,

          }
          ],
          name: "Combine",
          required: true,
          horizontal: true,
          randomize_question_order: false
    };

    	jatos.onLoad(function() {


/* html-keyboard-response version of end screen
    var last = {
    type: 'html-keyboard-response',
    stimulus: '<h2>Study Complete</h2> The LangDev MCDI is now complete. Thank you for your participation! <p> Your confirmation ID is <b>' + jatos.studyResultId + '</b>.</p>' +
    '<p><i>Please any key to close the experiment.</i></p>',
    on_finish: function(data){
      jsPsych.endExperiment(':)');
    }
  };
*/

      var last = {
    type: 'instructions',
    pages: [
        header + '<h2>Study Complete</h2> The LangDev MCDI is now complete. Thank you for your participation! <p> Your confirmation ID is <b>' + jatos.studyResultId + '</b>.</p>' +
    '<p>Click <i>close</i> to end the experiment.</p>',
    ],
    show_clickable_nav: true,
    button_label_next: 'Close',
    button_label_previous: 'Back',
    allow_keys: false,
    on_finish: function(data){
      jsPsych.endExperiment(':)');
      }
};



    // IF THEY ANSWERED NOT YET TO THE PREVIOUS QUESTIONS (BEGUN TO COMBINE WORDS), THEN EXPERIMENT ENDS, SHOWING THE PARTICIPANT THE END SCREEN.
    // IF THEY ANSWERED SOMETIMES OR OFTEN, EXPERIMENT WILL PROCEED WITH THE REST OF THE QUESTIONNAIRE!


	/* if using regular jspsych-survey-multi-choice plugin:
	var if_block15 = {
	timeline: [last],
	conditional_function: function() {
	var dat = jsPsych.data.getLastTrialData().values()[0];
	var answer = JSON.parse(dat.responses).Combine;
	if(answer.includes('Not Yet') == true) {


	return true;
	} else {
	return false;
	}

	},
	}*/

	// if using ankit's multi-choce plugin:
	var if_block15 = {
	timeline: [last],
	conditional_function: function() {
	var dat = jsPsych.data.getLastTrialData().values()[0];
	var answer = dat.q1;
	if(answer.includes('Not Yet') == true) {


	return true;
	} else {
	return false;
	}

	},
	}


/* if using regular survey-text plugin
    var block16 = {
      type: 'survey-text',
      preamble: 'Please list three of the longest sentences you have heard your child say recently.',
      questions: [
        {prompt: "1.", name: '1', rows: 1, columns: 50, required: true},
        {prompt: "2.", name: '2', rows: 1, columns: 50, required: true},
        {prompt: "3.", name: '3', rows: 1, columns: 50, required: true}
    ],
    randomize_question_order: false
  };
  */


  // using ankit's survey-text-custom plugin
  var block16 = {
    type: 'survey-text-custom',
      preamble: 'Please list three of the longest sentences you have heard your child say recently.',
    json_label: 'Sentences',
    questions: [
        {prompt: "1.", name: '1', rows: 1, columns: 50, required: true},
        {prompt: "2.", name: '2', rows: 1, columns: 50, required: true},
        {prompt: "3.", name: '3', rows: 1, columns: 50, required: true}
    ],
    on_load: function () {
        validate_sentences();
        form = document.getElementById("jspsych-content");
        toggle_listeners(form, true, validate_sentences);
    },
    on_finish: function () {
        toggle_listeners(form, false, validate_sentences);
    }
};


// using ankit's multi-choice plugin
// if you want to use the regular jspsych multiple choice plugin, change 'type: 'multi-choice'' from 'multi-choice' back to 'survey-multi-choice'

    var block17 = {
      type: 'multi-choice',
      preamble: "<p>In each of the following pairs, please mark the one that sounds MOST like the way your child talks right now." +
          " If your child is saying sentences that are even more complicated than the two provided, just pick the second one. </p>",
      questions: [
        {
          prompt: "",
          options: ["Two shoe.", "Two shoes."],
          horizontal: false,
          required: true,
          name: 'Shoes',

        },
        {
          prompt: "",
          options: ["Two foot", "Two feet."],
          horizontal: false,
          required: true,
          name: 'Feet',

        },
        {
          prompt: "(Talking about something happening right now)",
          options: ["Daddy car.", "Daddy's car"],
          horizontal: false,
          required: true,
          name: 'Dads Car',

        },
        {
          prompt: "(Talking about something happening right now)",
          options: ["Kitty sleep.", "Kitty sleeping."],
          horizontal: false,
          required: true,
          name: 'Sleeping Kitty',

        },
        {
          prompt: "(Talking about something happening right now)",
          options: ["I make tower.", "I making tower."],
          horizontal: false,
          required: true,
          name: 'Tower',

        },
        {
          prompt: "(Talking about something that already happened)",
          options: ["I fall down.", "I fell down."],
          horizontal: false,
          required: true,
          name: 'Fall',

        }
      ],
    };

    var block18 = {
      type: 'multi-choice',
      preamble: "<p>In each of the following pairs, please mark the one that sounds MOST like the way your child talks right now." +
          " If your child is saying sentences that are even more complicated than the two provided, just pick the second one. </p>",
      questions: [
        {
          prompt: "",
          options: ["More cookie!", "More cookies!"],
          horizontal: false,
          required: true,
          name: 'Cookie',

        },
        {
          prompt: "",
          options: ["These my tooth.", "These my teeth."],
          horizontal: false,
          required: true,
          name: 'Teeth',

        },
        {
          prompt: "",
          options: ["Baby blanket.", "Baby's blanket."],
          horizontal: false,
          required: true,
          name: 'Blanket',

        },
        {
          prompt: "",
          options: ["Doggie kiss me.", "Doggie kissed me."],
          horizontal: false,
          required: true,
          name: 'Doggie',

        },
        {
          prompt: "(Talking about something that already happened)",
          options: ["Daddy pick me up.", "Daddy picked me up."],
          horizontal: false,
          required: true,
          name: 'Pick up',

        },
        {
          prompt: "(Talking about something that already happened)",
          options: ["Kitty go away.", "Kitty went away."],
          horizontal: false,
          required: true,
          name: 'Kitty left',

        }
      ],
    };

    var block19 = {
      type: 'multi-choice',
      preamble: "<p>In each of the following pairs, please mark the one that sounds MOST like the way your child talks right now." +
          " If your child is saying sentences that are even more complicated than the two provided, just pick the second one. </p>",
      questions: [
        {
          prompt: "",
          options: ["Doggie table.", "Doggie on table."],
          horizontal: false,
          required: true,
          name: 'Dog Table',

        },
        {
          prompt: "",
          options: ["That my truck.", "That's my truck."],
          horizontal: false,
          required: true,
          name: 'Truck',

        },
        {
          prompt: "",
          options: ["Baby crying.", "Baby is crying."],
          horizontal: false,
          required: true,
          name: 'Crying baby',

        },
        {
          prompt: "",
          options: ["You fix it?", "Can you fix it?"],
          horizontal: false,
          required: true,
          name: 'Fix',

        },
        {
          prompt: "",
          options: ["Read me story, Mommy.", "Read me a story, Mommy."],
          horizontal: false,
          required: true,
          name: 'Storyreading',

        },
        {
          prompt: "",
          options: ["No wash dolly.", "Don't wash dolly."],
          horizontal: false,
          required: true,
          name: 'Washing',

        }
      ],
    };

    var block20 = {
      type: 'multi-choice',
      preamble: "<p>In each of the following pairs, please mark the one that sounds MOST like the way your child talks right now." +
          " If your child is saying sentences that are even more complicated than the two provided, just pick the second one. </p>",
      questions: [
        {
          prompt: "",
          options: ["Want more juice.", "Want juice in there."],
          horizontal: false,
          required: true,
          name: 'Juice',

        },
        {
          prompt: "",
          options: ["There a kitty.", "There's a kitty."],
          horizontal: false,
          required: true,
          name: 'Kitty',

        },
        {
          prompt: "",
          options: ["Go bye-bye.", "Wanna go bye-bye."],
          horizontal: false,
          required: true,
          name: 'Bye',

        },
        {
          prompt: "",
          options: ["Where mommy go?", "Where did mommy go?"],
          horizontal: false,
          required: true,
          name: 'Where',

        },
        {
          prompt: "",
          options: ["Coffee hot.", "That coffee hot."],
          horizontal: false,
          required: true,
          name: 'Coffee',

        },
        {
          prompt: "",
          options: ["I no do it.", "I can't do it."],
          horizontal: false,
          required: true,
          name: 'Refuse',

        }
      ],
    };

    var block21 = {
      type: 'multi-choice',
      preamble: "<p>In each of the following pairs, please mark the one that sounds MOST like the way your child talks right now." +
          " If your child is saying sentences that are even more complicated than the two provided, just pick the second one. </p>",
      questions: [
        {
          prompt: "",
          options: ["Don't read book.", "Don't want you read that book."],
          horizontal: false,
          required: true,
          name: 'No Book',

        },
        {
          prompt: "",
          options: ["Turn on light.", "Turn on the light so I can see."],
          horizontal: false,
          required: true,
          name: 'Light',

        },
        {
          prompt: "",
          options: ["I want that.", "I want that one you got."],
          horizontal: false,
          required: true,
          name: 'Want',

        },
        {
          prompt: "",
          options: ["Want cookies.", "Want cookies and milk."],
          horizontal: false,
          required: true,
          name: 'Cookies and milk',

        },
        {
          prompt: "",
          options: ["Cookie mommy.", "Cookie for mommy."],
          horizontal: false,
          required: true,
          name: 'Cookies for mom',

        },
        {
          prompt: "",
          options: ["Baby want eat.", "Baby want to eat."],
          horizontal: false,
          required: true,
          name: 'Eating baby',

        }
      ],
    };

    var block22 = {
      type: 'multi-choice',
      preamble: "<p>In each of the following pairs, please mark the one that sounds MOST like the way your child talks right now." +
          " If your child is saying sentences that are even more complicated than the two provided, just pick the second one. </p>",
      questions: [
        {
          prompt: "",
          options: ["Lookit me!", "Lookit what I got!"],
          horizontal: false,
          required: true,
          name: 'Look',

        },
        {
          prompt: "",
          options: ["Where's my dolly?", "Where's my dolly name Sam?"],
          horizontal: false,
          required: true,
          name: 'Doll',

        },
        {
          prompt: "",
          options: ["We made this.", "Me and Paul made this."],
          horizontal: false,
          required: true,
          name: 'Made',

        },
        {
          prompt: "",
          options: ["I sing song.", "I sing song for you."],
          horizontal: false,
          required: true,
          name: 'Sing',

        },
        {
          prompt: "",
          options: ["Baby crying.", "Baby crying cuz she's sad."],
          horizontal: false,
          required: true,
          name: 'Crying baby',

        }
      ],
    };


// IGNORE... brief test trials created to test any attempts of modifying the plugin
 var test = {
        type: 'multi-select',
        questions: [
          {
            prompt: "Test",
            options: ["and", "if", "then"],
            horizontal: true,
            required: false,
            name: 'Connecting Words',
          },
          {
            prompt: "Test",
            options: ["and", "if", "then"],
            horizontal: true,
            required: false,
            name: 'Connecting Words',

          }
        ],
        randomize_question_order: false
    };

    var test2 = {
      type: 'survey-likert',
      questions: [
        {prompt: "Does your child ever pick up or point to an object and name an absent person to whom the object belongs? For example, a child might point to mommy's shoe and say 'Mommy'.", name: 'Absent Person', labels: scale, required: true},
        {prompt: "Does your child ever pick up or point to an object and name an absent person to whom the object belongs? For example, a child might point to mommy's shoe and say 'Mommy'.", name: 'Absent Person', labels: scale, required: true}

      ],
      scale_width: 500,
      randomize_question_order: false
    };


  // timeline: [welcome, subjectID, block1, block2, block3, block4, block5, block6, block7, block8, block9, block10, block11, block12, block13, block14, block15, if_block15, block16, block17, block18, block19, block20, block21, block22, last],
  // timeline: [test, test2]


    jsPsych.init({
      timeline: [welcome, subjectID, block1, block2, block3, block4, block5, block6, block7, block8, block9, block10, block11, block12, block13, block14, block15, if_block15, block16, block17, block18, block19, block20, block21, block22, last],
      show_progress_bar: true,
      on_finish: function (data) {
            var studyID = jatos.studyResultId;
            jsPsych.data.addProperties({subject : studyID});
            /*console.log(jsPsych.data.get().uniqueNames());
            jsPsych.data.displayData('csv');*/
            var resultsRaw = jsPsych.data.get();
            var results = resultsRaw.ignore('internal_node_id').ignore('time_elapsed').ignore('stimulus').ignore('key_press').ignore('question_order').ignore('trial_type');
            var resultsCSV = results.csv();
            jatos.submitResultData(resultsCSV, jatos.startNextComponent);
      },
    });
    });
  </script>
</html>
